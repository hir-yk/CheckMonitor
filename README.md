# Screen Change Monitor (画面変化監視ツール)

画面の指定したエリアを定期的に監視し、画面に変化（ピクセルの差分）があった場合に自動でスナップショットを保存するPythonツールです。

## 必要なライブラリ

このプログラムを実行するには、以下のライブラリが必要です。

```bash
pip install opencv-python numpy Pillow pynput pyautogui
````

## 実行方法

### 1\. 初回実行（監視エリアの指定）

引数を指定せず実行すると、マウスで監視エリアを選択するモードになります。

```bash
python your_script_name.py
# 実行後、コンソールで指示される通りにマウスでエリアの左上と右下をクリックしてください。
```

### 2\. 連続実行（前回設定の使用）

前回設定した監視エリアとパラメータを使用して、すぐに監視を開始します。

```bash
python your_script_name.py -c
```

## オプション

| 短縮 | フルネーム | デフォルト値 | 説明 |
| :---: | :---: | :---: | :--- |
| `-c` | `--continuous` | (なし) | **連続モード**。前回保存されたエリア設定とパラメータを使用して実行します。 |
| `-d` | `--directory` | タイムスタンプ | 画像ファイルを保存するディレクトリを指定します。 |
| `-t` | `--change-threshold` | `0.05` (5%) | 変化を検出するピクセルの割合の閾値 (0.0から1.0)。 |
| `-p` | `--prefix` | `screenshot` | 保存するファイル名のPrefixを指定します。 |
| `-i` | `--interval` | `1.0` (秒) | 監視間隔を秒単位で指定します。 |
| `-ca` | `--confirm-area` | (なし) | 連続モード (`-c`) 実行時に、監視エリアの緑枠表示を確認します。デフォルトは非表示です。 |

### 例

  - 変化の閾値を厳しく（1%）し、間隔を短く（0.5秒）して監視を開始する例:
    ```bash
    python your_script_name.py -c -t 0.01 -i 0.5
    ```

## 監視の終了方法

監視が開始された後、コンソール（ターミナル）で以下のキーを押してください。

  - **`Ctrl + C`**：監視を停止し、プログラムを終了します。

